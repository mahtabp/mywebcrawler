using System;
using System.IO;
using Crawler.Services;
using NUnit.Framework;
using Moq;
using System.Threading.Tasks;

namespace CrawlerTests
{
    [TestFixture]    
    public class LookupServiceTest
    {
        [Test]
        public async Task GetOccurrence_KeywordExistsOnce_ReturnLocation()
        {
            string target = "www.smokeball.com";
            string keyword = "conveyancing software";
            string searchResult = @"</span><cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>ballball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><cite class=UdQCqe>www.kelada<b>conveyancing</b>.com.au/</cite><div class=Pj9hGd><div style=display:inline onclick=google.sham(this); aria-expanded=false aria-haspopup=true tabindex=0 data-ved=0ahUKEwiD2_2Lt4LdAhXLEZAKHRYzAgsQ7B0I8wQ><span class<div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\</span><cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>ballball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\</span><cite class=UdQCqe>www.kelada<b>conveyancing</b>.com.au/</cite><div class=Pj9hGd><div style=display:inline onclick=google.sham(this); aria-expanded=false aria-haspopup=true tabindex=0 data-ved=0ahUKEwiD2_2Lt4LdAhXLEZAKHRYzAgsQ7B0I8wQ><span class<cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>lastball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\</span><cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>smokeball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\";
            var httpClient = new Mock<IGoogleHttpClient>();
            httpClient.Setup(x => x.GetSearchResultFromGoogle(keyword)).Returns(Task.FromResult<string>(searchResult));

            var service = new LookupService(httpClient.Object);

            var actual = await service.GetOccurrence(keyword, target);

            Assert.AreEqual("5", actual);
        }


        [Test]
        public async Task GetOccurrence_KeywordDoesNotExist_Return0()
        {
            string target = "www.ballsmoke.com";
            string keyword = "conveyancing software";
            string searchResult = @"</span><cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>smokeball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><cite class=UdQCqe>www.kelada<b>conveyancing</b>.com.au/</cite><div class=Pj9hGd><div style=display:inline onclick=google.sham(this); aria-expanded=false aria-haspopup=true tabindex=0 data-ved=0ahUKEwiD2_2Lt4LdAhXLEZAKHRYzAgsQ7B0I8wQ><span class<div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\</span><cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>smokeball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\</span><cite class=UdQCqe>www.kelada<b>conveyancing</b>.com.au/</cite><div class=Pj9hGd><div style=display:inline onclick=google.sham(this); aria-expanded=false aria-haspopup=true tabindex=0 data-ved=0ahUKEwiD2_2Lt4LdAhXLEZAKHRYzAgsQ7B0I8wQ><span class<cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>smokeball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\</span><cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>smokeball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\";
            var httpClient = new Mock<IGoogleHttpClient>();
            httpClient.Setup(x => x.GetSearchResultFromGoogle(keyword)).Returns(Task.FromResult<string>(searchResult));

            var service = new LookupService(httpClient.Object);

            var actual = await service.GetOccurrence(keyword, target);

            Assert.AreEqual("0", actual);
        }

        [Test]
        public async Task GetOccurrence_KeywordExistMultipleTimes_ReturnAllLocations()
        {
            string target = "www.smokeball.com";
            string keyword = "conveyancing software";
            string searchResult = @"</span><cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>smokeball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><cite class=UdQCqe>www.kelada<b>conveyancing</b>.com.au/</cite><div class=Pj9hGd><div style=display:inline onclick=google.sham(this); aria-expanded=false aria-haspopup=true tabindex=0 data-ved=0ahUKEwiD2_2Lt4LdAhXLEZAKHRYzAgsQ7B0I8wQ><span class<div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\</span><cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>smokeball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\</span><cite class=UdQCqe>www.kelada<b>conveyancing</b>.com.au/</cite><div class=Pj9hGd><div style=display:inline onclick=google.sham(this); aria-expanded=false aria-haspopup=true tabindex=0 data-ved=0ahUKEwiD2_2Lt4LdAhXLEZAKHRYzAgsQ7B0I8wQ><span class<cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>smokeball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\</span><cite class=\\\UdQCqe\\\ style=\\\max-width:400px\\\>www.<b>smokeball.com</b>.au/book-a-demo</cite><div class=\\\Pj9hGd\\\><div style=\\\display:inline\\\ onclick=\\\google.sham(this);\\\";
            var httpClient = new Mock<IGoogleHttpClient>();
            httpClient.Setup(x => x.GetSearchResultFromGoogle(keyword)).Returns(Task.FromResult<string>(searchResult));

            var service = new LookupService(httpClient.Object);

            var actual = await service.GetOccurrence(keyword, target);

            Assert.AreEqual("0, 2, 4, 5", actual);
        }

        [Test]
        public async Task GetOccurrence_GoogleClientFindsNothing_Return0()
        {
            string target = "www.smokeball.com";
            string keyword = "conveyancing software";

            var httpClient = new Mock<IGoogleHttpClient>();
            httpClient.Setup(x => x.GetSearchResultFromGoogle(keyword)).Returns(Task.FromResult<string>(""));

            var service = new LookupService(httpClient.Object);

            var actual = await service.GetOccurrence(keyword, target);

            Assert.AreEqual("0", actual);
        }

        [Test]
        public async Task GetOccurrence_ReadFromFile_ReturnAllLocations()
        {
            string target = "www.smokeball.com";
            string keyword = "conveyancing software";
            string searchResult = "<a class=V0MxL r-iVODthJS3rR8 href=https://www.smokeball.com.au/offer.html id=vn1s0p1c0 onmousedown=return google.arwt(this) ontouchstart=return google.arwt(this) data-preconnect-urls=https://www.smokeball.com.au/ jsl=$t t-r1glFWqNI5A;$x 0;>Smokeball Conveyancing Program | New Financial Year Offer‎</a></h3></div><div class=ads-visurl><span class=Z98Wse>Ad</span><cite class=UdQCqe style=max-width:453px>www.smokeball.com.au/offer</cite>‎<span class=e1ycic><span id=aiis5 class=aii r-ioSpNc_nbsgY data-async-context=wtad:CpICEAEYASAAKAEwAUgBmgEQc21va2ViYWxsLmNvbS5hdcIBEHNtb2tlYmFsbC5jb20uYXXqAdcBW251bGwsbnVsbCxudWxsLG51bGwsWzEsbnVsbCxbWyJ3d3cuc21va2ViYWxsLmNvbS5hdS9vZmZlciJdCiwic21va2ViYWxsLmNvbS5hdSIsInNtb2tlYmFsbC5jb20uYXUiXQosMixudWxsLG51bGwsbnVsbCxudWxsLFtbIjI1OTU1OTA1NTMwNyJdCixbIjE1MzUwODgxNDA5NDI1MjUiLDE4MDQwMTg3OSwtNjUzNzU0MDEzXQosImNvbnZleWFuY2luZyBzb2Z0d2FyZSJdCl0KXQqKAgJzNQ%3D%3D data-async-trigger=wta_async_s5 jsaction=menu_item_selected:r.Xx1sV_Jzb9Q data-rtid=ioSpNc_nbsgY jsl=$t t-FcRZKOABPPk;$x 0;><div class=ioSpNc_nbsgY-8Fk4a8EszjQ k1sBMc y yp id=wta_async_s5 data-jiis=up data-async-type=wta data-async-context-required=wtad></div><div class=action-menu YMEk9e TxG06d title=Why this ad? aria-label=Why this ad? role=button tabindex=0 jsaction=r.crkNEEZsxco data-rtid=ioSpNc_nbsgY jsl=$x 2; data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQtpYBegQIAxAD><span class=mn-dwn-arw id=zvzE9></span></div></span></span><span class=PXnpre data-hveid=CAMQBA>1300 335 553</span></div><div class=jrjS0e h5RoYd ads-creative>Sign Up To Easy &amp; Affordable <b>Software</b> This Month And Pay Nothing Until August! Unlimited Support. PEXA Integration. Affordable.</div><ul class=OkkX2d><li><a class=V0MxL data-arwt=//www.googleadservices.com/pagead/aclk?sa=L&amp;ai=DChcSEwi9-dv6-ITdAhXXtsAKHWOBCNkYABABGgJpbQ&amp;ohost=www.google.com.au&amp;cid=CAESQeD2hdE_wZJX2Dqya-HvwPcgYFi5gWkMGNQcqLljalWAgwCizcbzHRmkP30jpSvzxSrV5uw40EguMcZh2BKPJ1Gf&amp;sig=AOD64_0ZCVINnergGQ43ZtY3fficxp3grQ&amp;adurl=&amp;q= onmousedown=return google.f['LmvwCb'](this) ontouchstart=return google.f['bez1fd'](this) href=https://www.smokeball.com.au/contact.html data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQpigoAHoECAMQBg>Contact Us</a></li><li><a class=V0MxL data-arwt=//www.googleadservices.com/pagead/aclk?sa=L&amp;ai=DChcSEwi9-dv6-ITdAhXXtsAKHWOBCNkYABACGgJpbQ&amp;ohost=www.google.com.au&amp;cid=CAESQeD2hdE_wZJX2Dqya-HvwPcgYFi5gWkMGNQcqLljalWAgwCizcbzHRmkP30jpSvzxSrV5uw40EguMcZh2BKPJ1Gf&amp;sig=AOD64_07VOJXveC9Z1FHGOYZLoSuYZZmtQ&amp;adurl=&amp;q= onmousedown=return google.f['LmvwCb'](this) ontouchstart=return google.f['bez1fd'](this) href=https://www.smokeball.com.au/offer.html data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQpigoAXoECAMQBw>New Financial Year Offer</a></li></ul><div jscontroller=zUPIy data-counterfactual-logging=false data-max-timing=2500 data-new-base-uri=/search?num=100 data-result-index=1 data-ui-mode=separate_card jsaction=rcuQ6b:npT2md><div jsname=UTgHCf class=VQ1yJb id=aobm_1 data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQmYICegQIAxAI><div jsname=d3PE6e id=aobd_1 style=display:none><div data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQmoICKAB6BAgDEAk>conveyancing software australia</div><div data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQmoICKAF6BAgDEAo>conveyancing software nsw</div><div data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQmoICKAJ6BAgDEAs>conveyancing software packages</div><div data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQmoICKAN6BAgDEAw>conveyancing software programs</div><div data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQmoICKAR6BAgDEA0>leap conveyancer cost</div><div data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQmoICKAV6BAgDEA4>leap conveyancing software</div><div data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQmoICKAZ6BAgDEA8>e conveyancing software</div><div data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQmoICKAd6BAgDEBA>free conveyancing software</div></div><span jsname=ZnuYW class=vA0x9b id=aobs_1 aria-label=Dismiss suggested follow ups role=button tabindex=0 jsaction=ornU0b></span><div><div jsname=l1CLDf class=qOrWEe><h4 jsname=IaVMje class=vc7dXb id=aobp_1>People also search for</h4><div jsname=CeevUc class=f5ZhKb id=aobr_1></div></div></div></div></div></li></ol></div></div><script nonce=8BXNDA6LhUkdEZ/WZXfYkA== jsl=$t t-IbpwSJ5oNyI;$x 0; class=r-izfeh2_2VbBo></script><form action=https://adssettings.google.com/u/0/whythisad method=post jsl=$t t-2sFQ6qauTpg;$x 0; class=r-i5NjfEXfPvkc><input value=ADvV1IcIZz9V0mAsrPDpu0yLEOYef5d6lzoxNTM1MDg4MTQwODQ2 name=token type=hidden><input value=ChVjb252ZXlhbmNpbmcgc29mdHdhcmUaGAiBgBAQASIQCK7JyLOSCBDj_5741g0gABoYCIKAEBCBgAwiDgj6mNy3NBDy1M2wASADGhkIgoAQEIKADCIPCL2Wk-KTCBD-xqfjUCADGhoIgYAQEIOADCIQCMfyz8LRBhDVzs_w_QggAyDZi9b6-ITdAioRd3d3Lmdvb2dsZS5jb20uYXUyQGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20uYXUvc2VhcmNoP251bT0xMDAmcT1jb252ZXlhbmNpbmcrc29mdHdhcmU6IVBSRUY9SUQ9MDAwMDAwMDAwMDAwMDAwMDpGRj0wOlY9MQ== name=reasons type=hidden><input value=en-AU name=hl type=hidden></form></div><div class=med id=res role=main><div id=topstuff></div><div id=search><div data-ved=0ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQGgg3><!--a--><h1 class=bNg8Rb>Search Results</h1><div data-async-context=query:conveyancing%20software id=ires><div eid=DJZ_W9nVM8aSjwTn_LnQBA id=rso><div class=bkWMgd><h2 class=bNg8Rb>Web results</h2><div class=srg><div class=g><!--m--><div data-hveid=CGUQAA data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQFSgAMAB6BAhlEAA><div class=rc><h3 class=r><a href=https://www.leap.com.au/area-of-law/conveyancing/ ping=/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://www.leap.com.au/area-of-law/conveyancing/&amp;ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQFjAAegQIZRAB>Conveyancing Software | LEAP Legal Software</a></h3><div class=s><div><div class=f hJND5c TbwUpd style=white-space:nowrap><cite class=iUh30>https://www.leap.com.au/area-of-law/conveyancing/</cite><div class=action-menu ab_ctl><a class=GHDvEf ab_button href=# id=am-b0 aria-label=Result options aria-expanded=false aria-haspopup=true role=button jsaction=m.tdd;keydown:m.hbke;keypress:m.mskpe data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQ7B0wAHoECGUQAg><span class=mn-dwn-arw></span></a><div class=action-menu-panel ab_dropdown role=menu tabindex=-1 jsaction=keydown:m.hdke;mouseover:m.hdhne;mouseout:m.hdhue data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQqR8wAHoECGUQAw><ol><li class=action-menu-item ab_dropdownitem role=menuitem><a class=fl href=https://webcache.googleusercontent.com/search?q=cache:dkXA7apBl9cJ:https://www.leap.com.au/area-of-law/conveyancing/+&amp;cd=1&amp;hl=en&amp;ct=clnk&amp;gl=au ping=/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://webcache.googleusercontent.com/search%3Fq%3Dcache:dkXA7apBl9cJ:https://www.leap.com.au/area-of-law/conveyancing/%2B%26cd%3D1%26hl%3Den%26ct%3Dclnk%26gl%3Dau&amp;ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQIDAAegQIZRAE>Cached</a></li><li class=action-menu-item ab_dropdownitem role=menuitem><a class=fl href=/search?q=related:https://www.leap.com.au/area-of-law/conveyancing/+conveyancing+software&amp;tbo=1&amp;sa=X&amp;ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQHzAAegQIZRAF>Similar</a></li></ol></div></div></div><span class=st><em>Conveyancing</em> revenue is important to many firms but because it is largely fixed fee work under continual competitive pressure, efficiency is essential.<wbr> ... LEAP includes all the legal forms you need to conduct <em>Conveyancing</em> and Property related matters.<wbr> ... LEAP includes 341 automated legal ...</span></div></div><div data-expid=0 data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQ2Z0BMAB6BAhlEAY></div></div></div><!--n--></div><div class=g><!--m--><div data-hveid=CF8QAA data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQFSgAMAF6BAhfEAA><div class=rc><h3 class=r><a href=https://www.leapconveyancer.com.au/ ping=/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://www.leapconveyancer.com.au/&amp;ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQFjABegQIXxAB>LEAP Conveyancer: Conveyancing Practice Management Software</a></h3><div class=s><div><div class=f hJND5c TbwUpd style=white-space:nowrap><cite class=iUh30>https://www.leapconveyancer.com.au/</cite><div class=action-menu ab_ctl><a class=GHDvEf ab_button href=# id=am-b1 aria-label=Result options aria-expanded=false aria-haspopup=true role=button jsaction=m.tdd;keydown:m.hbke;keypress:m.mskpe data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQ7B0wAXoECF8QAg><span class=mn-dwn-arw></span></a><div class=action-menu-panel ab_dropdown role=menu tabindex=-1 jsaction=keydown:m.hdke;mouseover:m.hdhne;mouseout:m.hdhue data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQqR8wAXoECF8QAw><ol><li class=action-menu-item ab_dropdownitem role=menuitem><a class=fl href=https://webcache.googleusercontent.com/search?q=cache:WXIU_taKZkEJ:https://www.leapconveyancer.com.au/+&amp;cd=2&amp;hl=en&amp;ct=clnk&amp;gl=au ping=/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://webcache.googleusercontent.com/search%3Fq%3Dcache:WXIU_taKZkEJ:https://www.leapconveyancer.com.au/%2B%26cd%3D2%26hl%3Den%26ct%3Dclnk%26gl%3Dau&amp;ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQIDABegQIXxAE>Cached</a></li><li class=action-menu-item ab_dropdownitem role=menuitem><a class=fl href=/search?q=related:https://www.leapconveyancer.com.au/+conveyancing+software&amp;tbo=1&amp;sa=X&amp;ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQHzABegQIXxAF>Similar</a></li></ol></div></div></div><span class=st>Improve efficiency and productivity with Australia&#39;s leading provider of <em>conveyancing</em> practice management <em>software</em>. Simple, easy-to-use <em>software</em> for your&nbsp;...</span></div></div><div data-expid=1 data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQ2Z0BMAF6BAhfEAY></div></div></div><!--n--></div><div class=g><!--m--><div data-hveid=CGMQAA data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQFSgAMAJ6BAhjEAA><div class=rc><h3 class=r><a href=https://www.smokeball.com.au/ ping=/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://www.smokeball.com.au/&amp;ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQFjACegQIYxAB>Smokeball - Smokeball - Cloud Conveyancing Software Program ...</a></h3><div class=s><div><div class=f hJND5c TbwUpd style=white-space:nowrap><cite class=iUh30>https://www.smokeball.com.au/</cite><div class=action-menu ab_ctl><a class=GHDvEf ab_button href=# id=am-b2 aria-label=Result options aria-expanded=false aria-haspopup=true role=button jsaction=m.tdd;keydown:m.hbke;keypress:m.mskpe data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQ7B0wAnoECGMQAg><span class=mn-dwn-arw></span></a><div class=action-menu-panel ab_dropdown role=menu tabindex=-1 jsaction=keydown:m.hdke;mouseover:m.hdhne;mouseout:m.hdhue data-ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQqR8wAnoECGMQAw><ol><li class=action-menu-item ab_dropdownitem role=menuitem><a class=fl href=https://webcache.googleusercontent.com/search?q=cache:Okzukmtbd5oJ:https://www.smokeball.com.au/+&amp;cd=3&amp;hl=en&amp;ct=clnk&amp;gl=au ping=/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://webcache.googleusercontent.com/search%3Fq%3Dcache:Okzukmtbd5oJ:https://www.smokeball.com.au/%2B%26cd%3D3%26hl%3Den%26ct%3Dclnk%26gl%3Dau&amp;ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQIDACegQIYxAE>Cached</a></li></ol></div></div></div><span class=st>Looking for affordable &amp; easy to use cloud <em>conveyancing software</em> program? Smokeball is exactly that &amp; enables you to become truly paperless.</span><div class=osl>‎<a class=fl href=http://www.smokeball.com.au/paperless-conveyancing-guide.html ping=/url?sa=t&amp;source=web&amp;rct=j&amp;url=http://www.smokeball.com.au/paperless-conveyancing-guide.html&amp;ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQ0gIoADACegQIYxAG>Paperless Conveyancing</a> ·&nbsp;‎<a class=fl href=https://www.smokeball.com.au/leadership.html ping=/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://www.smokeball.com.au/leadership.html&amp;ved=2ahUKEwjZi9b6-ITdAhVGyYMKHWd-DkoQ0gIoATACegQIYxAH>Leadership</a> ·&nbsp;‎<a class=fl href=https://www.smokeball.com.au/pricing.html ";
            var httpClient = new Mock<IGoogleHttpClient>();
            httpClient.Setup(x => x.GetSearchResultFromGoogle(keyword)).Returns(Task.FromResult<string>(searchResult));

            var service = new LookupService(httpClient.Object);

            var actual = await service.GetOccurrence(keyword, target);

            Assert.AreEqual("0, 3", actual);
        }
    }
}
